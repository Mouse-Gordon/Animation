<!doctype html>
<html lang="en">
<head>
 <title>Particle System</title>
 <meta charset="utf-8">
 <style>
canvas {
 border: 1px solid black;;
}
</style>
 <script>
 
var canvas;
 var context;
 var particles;
 var particlesTwo;
 var timer;
 var Square;
 var timerTwo;
   function init() {
        canvas = document.getElementById('canvas');
        context = canvas.getContext("2d");
 
        window.addEventListener('resize', resizeCanvas, false);
        window.addEventListener('orientationchange', resizeCanvas, false);
        makeBackground();
		resizeCanvas();
		canvas.onclick = function(event) {
			handleClick(event.clientX, event.clientY);
		};
		document.addEventListener('keyup', keyUpHandler, false);
		timer = setInterval(makeBackground,100);
		timerTwo= setInterval(resizeCanvas,1000);
		
	  }
	  
	  function keyUpHandler(e) {
    if (e.keyCode == "32"){
	lightningTwo ();
	
	}
	if (e.keyCode == "18"){
	lightningThree ();
	
	}
	
}
	  
 function resizeCanvas() {
        canvas.width = window.innerWidth;
        canvas.height = window.innerHeight;
		fillBackgroundColor();
		
      }
 function fillBackgroundColor() {
		 //var colors = ["white", "yellow", "blue", "red"];
		 //var bgColor = colors[Math.floor(Math.random() * colors.length)];

	    context.fillStyle = "black";
	 
	   context.fillRect(0, 0, canvas.width, canvas.height);
	} 
 function makeBackground(){
     //context.fillStyle = "black";
	 //context.fillRect(0, 0, canvas.width, canvas.height);
	 //context.globalCompositeOperation = "source-atop";
	  //context.fillRect(0, 0, canvas.width, canvas.height);
	    //
		var x=1;
		var y =0; 
		var width=2100;
		var height=500;
		   var imageObj = new Image();
		context.globalCompositeOperation = "source-over";
      imageObj.onload = function() {
        context.drawImage(imageObj,x,y,width,height);
      };
      imageObj.src = 'http://s2.postimg.org/wyszlj1p5/cloud.png';
	       
 
 }
 
   	
  function handleClick(x, y){
	timer
        var x=-140;
		var y=-90; 
		var width=500;
		var height=1100;
		   var imageObj = new Image();
		
      imageObj.onload = function() {
        context.drawImage(imageObj,x,y,width,height);
     
		
	  };
      imageObj.src = 'http://s16.postimg.org/dzzic98zp/lightning1.png';
	   // moveParticles();
		
	  }
	  
	   function lightningTwo(){
         var x=1140;
		var y=-110; 
		var width=500;
		var height=1100;
		   var imageObj = new Image();
		
      imageObj.onload = function() {
        context.drawImage(imageObj,x,y,width,height);
      //makeParticles();
		
	  };
      imageObj.src = 'http://s3.postimg.org/vqndvrvb7/lightning2.png';
	   // moveParticles();
		
	  }
	  
	  function lightningThree(){
         var x=640;
		var y=-110; 
		var width=500;
		var height=1100;
		   var imageObj = new Image();
		
      imageObj.onload = function() {
        context.drawImage(imageObj,x,y,width,height);
      //makeParticles();
		
	  };
      imageObj.src = 'http://s30.postimg.org/bnbxrb91t/lightning3.png';
	   // moveParticles();
		
	  }
		
	 
		
   
 window.onload = function() {
 	 
	 canvas = document.getElementById('canvas');
	 context = canvas.getContext('2d');

	
	
	 
	init();
	 
	 
	 }

</script>
</head>
<body>
	<canvas id="canvas" width="500" height="400"></canvas>
</body>
</html>
